# アーティファクト作成ツール

Izabellaには、エージェント（Claude）が直接アーティファクト（メモやコードなど）を作成・保存できるようにするためのツールが用意されています。

## 概要

アーティファクト作成ツール（`artifact_create`）は、会話中に生成された重要な情報やコード、メモなどをユーザーのために保存するために使用できます。保存されたアーティファクトは、サイドバーのアーティファクトパネルで確認、編集、削除が可能です。

## 仕組み

このツールは内部でKnowledgeStoreを直接使用してアーティファクトを保存します。ハンドラーを経由せず、効率的にナレッジベースにデータを書き込みます。

KnowledgeStoreインスタンスは内部でキャッシュされ、複数回のツール呼び出しで同じインスタンスが再利用されます。

## 使用方法

### エージェント（Claude）からの使用

エージェントはアーティファクトを作成するために以下のパラメータを使用します：

- `title`: アーティファクトのタイトル（必須）
- `content`: アーティファクトの内容（マークダウン形式、必須）

### 例

```json
{
  "title": "JavaScriptのクロージャについてのメモ", 
  "content": "# JavaScriptのクロージャ\n\nクロージャは関数と、その関数が宣言されたレキシカルスコープの組み合わせです。\n\n```javascript\nfunction makeCounter() {\n  let count = 0;\n  return function() {\n    return count++;\n  }\n}\n\nconst counter = makeCounter();\nconsole.log(counter()); // 0\nconsole.log(counter()); // 1\n```\n\nこの例では、`counter`関数は`makeCounter`関数のスコープにアクセスし続けることができます。"
}
```

## 応答

ツールが成功するとJSON形式で以下の情報が返されます：

```json
{
  "success": true,
  "message": "「JavaScriptのクロージャについてのメモ」というタイトルのアーティファクトが正常に作成されました。", 
  "id": "artifact--JavaScriptのクロージャについてのメモ"
}
```

## 注意点

- タイトルと内容は空にできません
- 同じタイトルのアーティファクトが既に存在する場合、上書きされます
- アーティファクトの内容はマークダウン形式で記述すると、後で読みやすく表示されます
- 保存されたアーティファクトはサイドバーのアーティファクトパネルで確認できます

## 使用例

- 会話中に書かれたコードやスニペットの保存
- 説明や手順のメモとしての保存
- 複雑な情報（設定ファイルなど）を後で参照できるよう保存
- チュートリアルやガイドの保存

## 技術的な詳細

アーティファクトは内部的には `artifact--{title}` というIDを持つナレッジアイテムとして保存されます。これにより、ナレッジベースの検索機能を活用してアーティファクトを管理できます。KnowledgeStoreのaddTexts関数を使用してデータを保存するため、効率的に動作します。